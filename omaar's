
#include <iostream>
#include <string>
using namespace std;

struct cartt {
	int qunatity;
	string buyproduct = { 0 };
	double price;
	double subtotal;

} pcart[100];


void addtocart(int i, int& nproduct,Product products[], cartt pcart[]);
void cart(int& nproduct,cartt pcart[]);



int main() {
	
	int nproduct = 0;
	
	return 0;
}


void addtocart(int i,int& nproduct,cartt pcart[],Product products[]) {

	int n;
	bool done = true;

	pcart[nproduct].buyproduct = products[i].productName;
	pcart[nproduct].price = products[i].productPrice;
	do {
		cout << "How many quantity do you want ?";
		cin >> n;
		if (n <= products[i].Quantity) {
			cout << "Your Product Added to cart " << endl;
			pcart[nproduct].qunatity = n;
			products[i].Quantity -= n;
			done = false;
		}
		else
			cout << " Your Quantity is not availble now in the stock !! We have ( " << products[i].Quantity << " ) only in the stock " << endl;
	} while (done);
	
	nproduct++;
}
void cart(int nproduct,cartt pcart[]) {

	double total = 0;
	char s,d;
	int g,x=1;
	cout << "********************** - YOUR CART - *********************" << endl;
	cout << " NAME \t  " << " QUNATITY \t  " << " PRICE \t  ";
	for (int i = 0; i < nproduct; i++) {
		pcart[i].subtotal = (pcart[i].qunatity  *  pcart[i].price);
		cout << x << '. '<< pcart[i].buyproduct << "\t" << pcart[i].qunatity << "\t" << pcart[i].subtotal << '$' << endl;
		total += pcart[i].subtotal;
		x++;
	}
	cout << " TOTAL :  " << total << endl;
	cout << " Do you want to delete any thing ??  [[ y / n ]] :  ";
	cin >> d;
	switch (d)
	{
	case 'y':
	case 'Y':
		cout << "Enter the number of the product you want to delete  : ";
		cin >> g;
		pcart[g-1] = { 0 };
	
	case 'n':
	case 'N':
		break; 
	default:
		cout << "!!! Enter valid choice !!!" << endl;
	}
	total = 0;
	x = 1;
	cout << "Press .V. to View receipt" << endl << "Press .R. to Return shopping" << endl;
	cin >> s;
	switch (s)
	{
	case 'v':
	case 'V':
		cout << "********************* TOTAL ITEMS **********************\n" << endl;
		cout << " NAME \t  " << " QUNATITY \t  " << " PRICE \t  ";
		for (int i = 0; i < nproduct; i++) {
			if (pcart[i].price != 0) {
				pcart[i].subtotal = (pcart[i].qunatity  *  pcart[i].price);
				cout << x << ". "<< pcart[i].buyproduct << "\t" << pcart[i].qunatity << "\t" << pcart[i].subtotal << '$' << endl;
				total += pcart[i].subtotal;
			}
		}
		cout << "********************** TOTAL PRICE *********************\n" << endl;
		cout << "Total price : " << total << '$';
		break;
	case 'R':
	case 'r':
		// erg3 l view product tany
		break;
	default:
		cout << "!!! Enter valid choice !!!" << endl;

	}

}
