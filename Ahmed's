#include <iostream>
#include <string>
#include <fstream>
#include <string.h>

using namespace std;

void search_owner()
{
	string LoginPassword, Password, Username, Name;
	bool flag;
	cout << " Please enter your login details below " << endl;
	cout << "Username : ";
	cin >> Username;
	cout << "Password : ";
	cin >> LoginPassword;
	fstream search;
	search.open("Owner Registration Data.txt", ios::in);
	while (!search.eof())
	{
		search.getline(Name, 25, );
			if ((Username, Name) == 0)
			{
				search.getline(Password, 25, );
				if (strcmp(Password, LoginPassword) == 0)
				{
					flag = true;
					cout << "You have successfully logged in" << endl;
					cout << " Welcome " << Name << endl;
				}


			}
			else
			{
				cout << "The ID or Password are incorrect" << endl;
				flag = false;
			}
	}

}

void updateInfo()
{
	char ID[25], Gender[10];
	string Username, InName, Password, Age, Address;
	fstream Edited;
	fstream temp;
	Edited.open("Registration Data.txt", ios::app);
	temp.open("temp.txt", ios::out);
	cin.ignore();
	cout << "Enter your username :";
	getline(cin, Username);
	while (!Edited.eof())
	{
		if(Username.compare(InName)){
		getline(Edited, Username);
		Edited.getline(ID, 25);
		getline(Edited, Password);
		getline(Edited, Age);
		Edited.getline(Gender, 10);
		getline(Edited, Address);

			cout << "Username :";
			getline(cin, Username);
			cout << "ID :";
			cin.getline(ID, 25);
			cout << "Password :";
			getline(cin, Password);
			cout << "Age :";
			getline(cin, Age);
			cout << "Gender :";
			cin.getline(Gender, 10);
			cout << "Address :";
			getline(cin, Address);
			temp << Username << endl;
			temp << ID << endl;
			temp << Password << endl;
			temp << Age << endl;
			temp << Gender << endl;
			temp << Address << endl;
		}

		else
		{
			temp << Username << endl;
			temp << ID << endl;
			temp << Password << endl;
			temp << Age << endl;
			temp << Gender << endl;
			temp << Address << endl;
		}
		break;
	}
	temp.close();
	Edited.close();


	Edited.open("Registration Data.txt", ios::out);
	temp.open("temp.txt", ios::in);
	while (!temp.eof())
	{
		getline(temp, Username);
		temp.getline(ID, 25);
		getline(temp, Password);
		getline(temp, Age);
		temp.getline(Gender, 10);
		getline(temp, Address);
		Edited << Username << endl;
		Edited << ID << endl;
		Edited << Password << endl;
		Edited << Age << endl;
		Edited << Gender << endl;
		Edited << Address << endl;
	}
	temp.close();
	Edited.close();
	remove("temp.txt");

}
void main()
{
	char Loginchoice,editchoice;
	cout << "Do you want to login , Y/N ?" << endl;
	cin >> Loginchoice;
	switch (Loginchoice)
	{
	case'Y':
	case'y':search_owner();
		break;

	default:
		break;
	}
	cout << "Do you want to edit your data , Y/N ?" << endl;
	cin >> editchoice;
	switch (editchoice)
	{
	case'Y':
	case'y':edit_owner();
		break;

	default:
		break;
	}
	char Editchoice;
	cout << "Do you want to edit your data , (Y/N) ?";
	cin >> Editchoice; 
	switch(Editchoice) {
	case('y'):
	case('Y'):
		cout << "-- Editing , Please wait --" << endl;
		updateInfo();

	default:cout << " Invalid Input Entered " << endl;
		break;
	}
	
}
